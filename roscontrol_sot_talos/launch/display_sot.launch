<launch>
  <arg name="input_topic" default="/sot_hpp/state"/>
  <arg name="output_prefix" default="/sot"/>
  <arg name="rviz" default="false"/>

  <node pkg="roscontrol_sot_talos" name="republish" type="republish" args="$(arg input_topic) $(arg output_prefix)/joint_state true"/>

  <node pkg="tf" type="static_transform_publisher"
    name="base_link_broadcaster"
    args="0 0 0 0 0 0 1 odom $(arg output_prefix)/odom 100" />

  <node pkg="robot_state_publisher" type="robot_state_publisher" name="rob_st_pub" >
    <remap from="/joint_states" to="$(arg output_prefix)/joint_state" />
    <param name="tf_prefix" value="$(arg output_prefix)" />
  </node>

  <node if="$(arg rviz)" pkg="rviz" type="rviz" name="rviz" />
</launch>
